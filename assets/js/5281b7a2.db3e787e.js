"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[443],{936(e,n,i){i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>l,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"architecture","title":"System Overview","description":"Current Version: v0.2.5","source":"@site/docs/architecture.md","sourceDirName":".","slug":"/architecture","permalink":"/Migraine-Navigator/docs/architecture","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"title":"System Overview"},"sidebar":"tutorialSidebar","next":{"title":"For Patients","permalink":"/Migraine-Navigator/docs/patients"}}');var s=i(4848),t=i(8453);const l={sidebar_position:1,title:"System Overview"},a="Migraine Navigator: Technical System Overview",c={},o=[{value:"1. System Architecture",id:"1-system-architecture",level:2},{value:"2. Advanced Prediction Engine (Hybrid Architecture)",id:"2-advanced-prediction-engine-hybrid-architecture",level:2},{value:"2.1 Hybrid Strategy",id:"21-hybrid-strategy",level:3},{value:"2.2 The 24-Hour Risk Engine (&quot;Truth Propagation&quot;)",id:"22-the-24-hour-risk-engine-truth-propagation",level:3},{value:"2.3 Feature Engineering (<code>predict_future.py</code>)",id:"23-feature-engineering-predict_futurepy",level:3},{value:"3. Data Analytics &amp; Visualization",id:"3-data-analytics--visualization",level:2},{value:"3.1 Real-time Aggregation",id:"31-real-time-aggregation",level:3},{value:"3.2 Forecasting Engine",id:"32-forecasting-engine",level:3},{value:"4. Key Technologies",id:"4-key-technologies",level:2},{value:"5. Licensing",id:"5-licensing",level:2}];function d(e){const n={code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"migraine-navigator-technical-system-overview",children:"Migraine Navigator: Technical System Overview"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Current Version:"})," v0.2.5\n",(0,s.jsx)(n.strong,{children:"Scope:"})," Hybrid AI Architecture, Data Analytics, and System Design"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"1-system-architecture",children:"1. System Architecture"}),"\n",(0,s.jsxs)(n.p,{children:["The application follows a modern ",(0,s.jsx)(n.strong,{children:"Service-Oriented Architecture (SOA)"})," tailored for a desktop environment via Tauri."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Frontend (Presentation Layer)"}),":","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Framework"}),": React 18 (Vite)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Visualization"}),": Recharts (D3-based) for high-performance time-series rendering."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"State Management"}),": React Hooks + Local Component State (optimized for reduced complexity)."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Backend (Application Layer)"}),":","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Server"}),": FastAPI (Python 3.10+), running as a sidecar subprocess."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"API Protocol"}),": RESTful JSON over localhost."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Persistence (Data Layer)"}),":","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Database"}),": SQLite3 (Embedded). Ideal for single-user desktop privacy and zero-config deployment."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"ORM/DAO"}),": Custom Data Access Objects (",(0,s.jsx)(n.code,{children:"EntryService"}),") using raw SQL for maximum performance control and explicit schema management."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"2-advanced-prediction-engine-hybrid-architecture",children:"2. Advanced Prediction Engine (Hybrid Architecture)"}),"\n",(0,s.jsxs)(n.p,{children:["The core value proposition of Migraine Navigator is its predictive engine, which employs a ",(0,s.jsx)(n.strong,{children:"Hybrid Strategy"}),' to forecast migraine risk. This approach solves the "Cold Start" problem inherent in pure ML systems.']}),"\n",(0,s.jsx)(n.h3,{id:"21-hybrid-strategy",children:"2.1 Hybrid Strategy"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"User-Configurable Heuristic Engine (New Users)"}),":","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Provides immediate, personalized predictions from Day 1."}),"\n",(0,s.jsxs)(n.li,{children:["Bridges the gap until sufficient history exists (< 60 entries) by utilizing ",(0,s.jsx)(n.strong,{children:"user-defined sensitivity settings"})," (Weather, Sleep, Strain)."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Dual-Stage Hurdle Model (Established Users)"}),":","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Automatically takes over once enough data is collected (N > 60)."}),"\n",(0,s.jsxs)(n.li,{children:["Uses a ",(0,s.jsx)(n.strong,{children:"Classifier"})," (Probability of Migraine) + ",(0,s.jsx)(n.strong,{children:"Regressor"})," (Severity of Migraine) to handle zero-inflated data."]}),"\n",(0,s.jsxs)(n.li,{children:["Detects complex, non-linear patterns unique to your biology using ",(0,s.jsx)(n.strong,{children:"Gradient Boosting Decision Trees (GBDT)"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"22-the-24-hour-risk-engine-truth-propagation",children:'2.2 The 24-Hour Risk Engine ("Truth Propagation")'}),"\n",(0,s.jsx)(n.p,{children:"Training a pure ML model for hourly predictions requires unrealistic, massive labeled datasets (hourly logs). We solve this with a 3-step hybrid approach:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Step 1 (The Anchor)"}),": The proven ",(0,s.jsx)(n.strong,{children:"Daily ML Model"}),' predicts the overall risk intensity for the day (e.g., "69% Risk") based on deep historical patterns.']}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Step 2 (The Curve)"}),": A granular ",(0,s.jsx)(n.strong,{children:"Heuristic Engine"})," calculates relative risk for every hour based on circadian rhythms, real-time weather shifts (Open-Meteo), and medication half-lives."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Step 3 (Calibration)"}),': The hourly curve is mathematically scaled so that its peak matches the Daily ML "Truth".',"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.em,{children:"Result"}),": The ",(0,s.jsx)(n.strong,{children:"accuracy"})," of the ML model + the ",(0,s.jsx)(n.strong,{children:"temporal resolution"})," of the heuristic engine."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.h3,{id:"23-feature-engineering-predict_futurepy",children:["2.3 Feature Engineering (",(0,s.jsx)(n.code,{children:"predict_future.py"}),")"]}),"\n",(0,s.jsx)(n.p,{children:"Raw data is transformed into a dense feature vector X containing ~24 dimensions:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Temporal Features"}),":","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Cyclical Encoding: ",(0,s.jsx)(n.code,{children:"DayOfWeek_sin"}),", ",(0,s.jsx)(n.code,{children:"DayOfWeek_cos"}),'. Preserves the proximity between "Sunday" and "Monday".']}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Meteorological Features"}),":","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Thermodynamics"}),": Temperature (T_max, T_min), Humidity (H_rel > 70%)."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Barometrics"}),": Surface Pressure and ",(0,s.jsx)(n.strong,{children:"Pressure Instability"})," (24h Delta)."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Autoregressive (Lag) Features"}),":","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:'Captures the "Memory" of the disease (Lags: t-1 to t-7 days).'}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Rolling Statistics"}),": Detection of flare-up clusters."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"3-data-analytics--visualization",children:"3. Data Analytics & Visualization"}),"\n",(0,s.jsx)(n.h3,{id:"31-real-time-aggregation",children:"3.1 Real-time Aggregation"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Dynamic Metrics"}),': Calculations like "Average Days/Month" are computed dynamically based on the actual data span.']}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Medication Analysis"}),': "Pain-Based" usage tracking that filters out pain-free days for more accurate frequency analysis.']}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"32-forecasting-engine",children:"3.2 Forecasting Engine"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Direct Forecasting"}),': The 7-Day Forecast generates independent predictions for each day to ensure stability and responsiveness, fixing previous "flatline" issues with recursive clusters.']}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Caching Strategy"}),": Predictions are cached in-memory with a 1-hour TTL (Time-To-Live) to prevent API rate-limiting."]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"4-key-technologies",children:"4. Key Technologies"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Core ML"}),": ",(0,s.jsx)(n.code,{children:"scikit-learn"}),", ",(0,s.jsx)(n.code,{children:"numpy"}),", ",(0,s.jsx)(n.code,{children:"pandas"}),", ",(0,s.jsx)(n.code,{children:"joblib"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Server"}),": ",(0,s.jsx)(n.code,{children:"uvicorn"}),", ",(0,s.jsx)(n.code,{children:"fastapi"}),", ",(0,s.jsx)(n.code,{children:"pydantic"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"External Data"}),": Open-Meteo (Free, Non-Commercial License compatible for personal tools)."]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"5-licensing",children:"5. Licensing"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Source-Available (PolyForm Noncommercial 1.0.0)"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Privacy-First"}),": Personal health data never leaves the user's machine."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Transparency"}),': The codebase opens the "black box" on how the AI works, without surrendering commercial rights.']}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453(e,n,i){i.d(n,{R:()=>l,x:()=>a});var r=i(6540);const s={},t=r.createContext(s);function l(e){const n=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);