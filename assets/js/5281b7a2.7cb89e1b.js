"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[443],{936(e,n,i){i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"architecture","title":"System Architecture","description":"Date: December 16, 2025","source":"@site/docs/architecture.md","sourceDirName":".","slug":"/architecture","permalink":"/Migraine-Navigator/docs/architecture","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"title":"System Architecture"},"sidebar":"tutorialSidebar"}');var r=i(4848),t=i(8453);const l={sidebar_position:1,title:"System Architecture"},c="Migraine Navigator: Technical System Overview",a={},o=[{value:"1. System Architecture",id:"1-system-architecture",level:2},{value:"2. Artificial Intelligence &amp; Machine Learning Pipeline",id:"2-artificial-intelligence--machine-learning-pipeline",level:2},{value:"2.1 Model Architecture",id:"21-model-architecture",level:3},{value:"2.2 Feature Engineering (<code>predict_future.py</code>)",id:"22-feature-engineering-predict_futurepy",level:3},{value:"3. Data Analytics &amp; Visualization",id:"3-data-analytics--visualization",level:2},{value:"3.1 Real-time Aggregation (<code>Dashboard.jsx</code>)",id:"31-real-time-aggregation-dashboardjsx",level:3},{value:"3.2 Forecasting Engine",id:"32-forecasting-engine",level:3},{value:"4. Key Technologies",id:"4-key-technologies",level:2}];function d(e){const n={code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"migraine-navigator-technical-system-overview",children:"Migraine Navigator: Technical System Overview"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Date:"})," December 16, 2025\n",(0,r.jsx)(n.strong,{children:"Scope:"})," Data Analytics, AI/ML Architecture, and System Design"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"1-system-architecture",children:"1. System Architecture"}),"\n",(0,r.jsxs)(n.p,{children:["The application follows a modern ",(0,r.jsx)(n.strong,{children:"Service-Oriented Architecture (SOA)"})," tailored for a desktop environment via Tauri."]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Frontend (Presentation Layer)"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Framework"}),": React 18 (Vite)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Visualization"}),": Recharts (D3-based) for high-performance time-series rendering."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"State Management"}),": React Hooks + Local Component State (optimized for reduced complexity)."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Backend (Application Layer)"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Server"}),": FastAPI (Python 3.10+), running as a sidecar subprocess."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"API Protocol"}),": RESTful JSON over localhost."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Persistence (Data Layer)"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Database"}),": SQLite3 (Embedded). Ideal for single-user desktop privacy and zero-config deployment."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"ORM/DAO"}),": Custom Data Access Objects (",(0,r.jsx)(n.code,{children:"EntryService"}),") using raw SQL for maximum performance control and explicit schema management."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"2-artificial-intelligence--machine-learning-pipeline",children:"2. Artificial Intelligence & Machine Learning Pipeline"}),"\n",(0,r.jsxs)(n.p,{children:["The core value proposition of Migraine Navigator is its predictive engine, which employs ",(0,r.jsx)(n.strong,{children:"Supervised Learning"})," to forecast migraine risk."]}),"\n",(0,r.jsx)(n.h3,{id:"21-model-architecture",children:"2.1 Model Architecture"}),"\n",(0,r.jsxs)(n.p,{children:["We utilize a dual-model approach using ",(0,r.jsx)(n.strong,{children:"Gradient Boosting Decision Trees (GBDT)"})," via ",(0,r.jsx)(n.code,{children:"scikit-learn"}),"."]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsxs)(n.strong,{children:["Risk Classifier (",(0,r.jsx)(n.code,{children:"GradientBoostingClassifier"}),")"]}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Task"}),": Binary Classification (Will a migraine occur? Yes/No)."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Output"}),": Probability Score (P from 0 to 1)."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Calibration"}),": Threshold-tuned (e.g., > 0.2 = Moderate Risk) based on user sensitivity."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsxs)(n.strong,{children:["Severity Regressor (",(0,r.jsx)(n.code,{children:"GradientBoostingRegressor"}),")"]}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Task"}),": Regression (Predicted Pain Level 0-10)."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Target"}),": Log-transformed Pain Level (log(1 + y)) to handle zero-inflated targets and enforce non-negativity."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.h3,{id:"22-feature-engineering-predict_futurepy",children:["2.2 Feature Engineering (",(0,r.jsx)(n.code,{children:"predict_future.py"}),")"]}),"\n",(0,r.jsx)(n.p,{children:"Raw data is transformed into a dense feature vector X containing ~24 dimensions:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Temporal Features"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Cyclical Encoding: ",(0,r.jsx)(n.code,{children:"DayOfWeek_sin"}),", ",(0,r.jsx)(n.code,{children:"DayOfWeek_cos"}),", ",(0,r.jsx)(n.code,{children:"Month_sin"}),", ",(0,r.jsx)(n.code,{children:"Month_cos"}),'. This preserves the proximity between "Sunday" (6) and "Monday" (0).']}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Meteorological Features"})," (Source: Open-Meteo API):","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Thermodynamics"}),": Temperature (T_max, T_min, T_avg), Humidity (H_rel)."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Barometrics"}),": Surface Pressure (P_surf) and 24-hour Delta (Delta_P)."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Solar"}),": Sunshine Duration (Minutes)."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Autoregressive (Lag) Features"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:'Captures the "Memory" of the disease.'}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Lags"}),": t-1, t-2, t-3, t-7 days."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Rolling Statistics"}),": Rolling Mean (3-day, 7-day window) to detect flare-up clusters."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Lifestyle Inputs"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Sleep Quality (Ordinal 1-3) and Physical Activity (Ordinal 0-3)."}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsxs)(n.em,{children:["Note: Missing values are imputed with medians (",(0,r.jsx)(n.code,{children:"2.0"}),", ",(0,r.jsx)(n.code,{children:"1.5"}),") to prevent model drift."]})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"3-data-analytics--visualization",children:"3. Data Analytics & Visualization"}),"\n",(0,r.jsx)(n.p,{children:"The analytics engine transforms raw logs into actionable intelligence on the client side."}),"\n",(0,r.jsxs)(n.h3,{id:"31-real-time-aggregation-dashboardjsx",children:["3.1 Real-time Aggregation (",(0,r.jsx)(n.code,{children:"Dashboard.jsx"}),")"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Dynamic Metrics"}),': Calculations like "Average Days/Month" are computed dynamically based on the ',(0,r.jsx)(n.em,{children:"actual"})," data span (e.g., dividing by 3 months for a new user vs 12 for an existing one)."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Unit Consistency"}),": Strict type enforcement ensures alignment between Backend (Integers/Floats) and Frontend (Strings from Forms)."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"32-forecasting-engine",children:"3.2 Forecasting Engine"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Batch Processing"}),": The 7-Day Forecast generates predictions in bulk. It fetches a single JSON packet from Open-Meteo containing 7 days of hourly data, processes it into 7 feature vectors, and runs batch inference in less than 0.8s."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Caching Strategy"}),": Predictions are cached in-memory with a 1-hour TTL (Time-To-Live). This prevents API rate-limiting and ensures instant dashboard reloads."]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"4-key-technologies",children:"4. Key Technologies"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Core ML"}),": ",(0,r.jsx)(n.code,{children:"scikit-learn"}),", ",(0,r.jsx)(n.code,{children:"numpy"}),", ",(0,r.jsx)(n.code,{children:"pandas"}),", ",(0,r.jsx)(n.code,{children:"joblib"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Server"}),": ",(0,r.jsx)(n.code,{children:"uvicorn"}),", ",(0,r.jsx)(n.code,{children:"fastapi"}),", ",(0,r.jsx)(n.code,{children:"pydantic"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"External Data"}),": Open-Meteo (Free, Non-Commercial License compatible for personal tools)."]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453(e,n,i){i.d(n,{R:()=>l,x:()=>c});var s=i(6540);const r={},t=s.createContext(r);function l(e){const n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);